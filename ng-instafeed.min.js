angular.module("ngInstafeed",[]).provider("ngInstafeed",[function(){var a={state:{loading:false}};var b={accessToken:null,clientId:null};a.setAccessToken=function(c){b.accessToken=c};a.setClientId=function(c){b.clientId=c};a.$get=["$http","$timeout",function(e,c){var d={model:{data:[],instafeed:null},state:a.state};d.resetAccessToken=function(f){b.accessToken=f};d.resetClientId=function(f){b.clientId=f};d.more=function(f){console.log(d.model.instafeed);d.model.instafeed.next()};d.get=function(h,i){var g=function(j){if(typeof j=="string"){i(j,null)}else{if(j.data&&j.data.length>0){if(d.model.data.length==0){d.model.data=j.data}else{d.model.data=d.model.data.concat(j.data)}}i(null,j)}c(function(){d.state.loading=false;d.state.hasNext=d.model.instafeed.hasNext()},0)};var f=angular.extend({accessToken:b.accessToken,clientId:b.clientId,error:g,mock:true,success:g},h);console.log(f);d.state.loading=true;d.model.instafeed=new Instafeed(f);d.model.instafeed.run()};return d}];return a}]);